(function(){var n,t,r,e,o,i;n=function(){function n(n){this.host=n,this.overwritten=0,this.prev={},this["new"]={}}return n.prototype.restore=function(){var n;for(n in this["new"])delete this.host[n];return t(this.host,this.prev)},n}(),o=function(n){return!("object"!=typeof n||n instanceof Array||n instanceof Function)},t=function(n){var t,r,e,o;t=Array.prototype.slice.call(arguments,1);for(r in t)if(o=t[r])for(e in o)n[e]=o[e];return n},i=function(n,t){var r;if(t=t||0,!n)throw r="Expected a function as the first argument",console.error(r,n),new Error(r);if(isNaN(t))throw r="thisIndex must be a valid number",console.error(r,t),new Error(r);return function(){var r;return r=Array.prototype.slice.call(arguments),r.splice(t,0,this),n.apply(this,r)}},e=function(r,e,o,s){var f,a,c,u;if(o=o||e.name,s=t({safe:!0,functionsOnly:!1,thisIndex:0},s||{}),a=new n(r),!o)throw c="function"==typeof e?"No destination key provided for anonymous function":"No destination key provided for value",console.error(c,e),new Error(c);return u=!(o in r&&s.safe),f=!(s.functionsOnly&&"function"!=typeof e),u&&f&&("function"==typeof e&&null!==s.thisIndex&&(e=i(e,s.thisIndex)),o in r?(a.prev[o]=r[o],a.overwritten=1):a["new"][o]=e,r[o]=e),a},r=function(r,i,s,f){var a;return o(s)&&(f=s,s=null),s=s||Object.keys(i),s instanceof Array?s=s.map(function(n){var t,r;if("string"==typeof n)return{from:n,to:n};if(o(n))return t=Object.keys(n)[0],{from:t,to:n[t]};throw r="Expected prop to be either a string or a plain object.",console.error(r,n),new Error(r)}):s?f=s:s=Object.keys(i),a=new n(r),s.forEach(function(n){var o;return o=e(r,i[n.from],n.to,f),t(a.prev,o.prev),t(a["new"],o["new"])}),a.overwritten=Object.keys(a.prev).length,a},t("undefined"!=typeof exports&&null!==exports?exports:window.Nativity={},{install:r,installOne:e,toInstance:i})}).call(this);